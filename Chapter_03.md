## 3장. 메모리와 디스크의 핵심 : 순차논리

> 컴퓨터는 비트를 어떻게 기억하는가

> 이번장에서 순차 논리에 대해 배운다.

> 시간을 만들어 내는 회로와 과거를 기억하기 위한 회로에 대해 배운다.

### 1. 시간 표현과 상태 기억
```
    우리는 주기함수를 사용해 시간을 측정할 수 있다.
    진자가 오가는 시간(주기)을 사용할수 있다.
    컴퓨터는 진자가 스위치를 때리게 하면 전기신호를 만들수 있다.
```
- 발진자
    - 인버터(not 게이트)를 사용해 인버터의 출력을 입력에 연결할수 있음 (0 1 0 1 0 1 반복) => [되먹임] 이라고 함
    - 0과1을 진동하는 속도는 전파지연에 따라 결정됨
    - 주기적인신호를 생성하는 소자 (시간 측정가능)
    - 적은 비용으로 발진자를 만드는 방법은 [크리스탈]을 이용하는것.
- 클록
    - 발진자는 컴퓨터에 클록(시간을 셀수있는 신호)를 제공한다.
    - 클록은 박자에 맞춘 신호를 의미
- 래치
    - 정보를 1비트 기억할 방법
    - OR 게이트 래치 : in 에 1이 들어가면 out은 무한히 1을 반복 => 이게 1을 기억한다는 뜻
    - AND-OR 게이트 래치 : 리셋 바를 통해 0과1을 반전시켜 줘서 되먹임 방지함 
        => set과 reset을 이용해서 0 1 기억값을 조작가능
    - S-R 래치 : SET-RESET을 뜻하고, 똘똘하게 1비트 메모리를 만드는 방법 => 한쪽에서 1을 게속 기억 할수 있음
- 게이트가 있는 래치
    - 게이트를 추가한 래치로 게이트와 D래치를 이용해 비트를 기억한다.
- 플립플롭
    - 특정값에 머무리는 동안 데이터를 잡아내지 않고 (0에서1 ,1에서 0)전이는 중간에 잡아내는것이 일반적인 사용방법
    - 전이를 edge라고함.  
    - edge에 의해 데이터 변화 되는 래치를 [플립플롭]이라고 한다. 
- 카운터
    - 카운터는 플립플롭들에 의해 2진수의 숫자가 하나씩 증가하는 회로
        - 리플 카운터
            - reset신호는 모든출력을 0으로 초기화한다.
            - 물결처럼 왼쪽에서 오른쪽으로 퍼져나갔다가 되돌아옴 (클럭 생성)
        - 동기 카운터
            - 모든 플립플롭이 동시에 변화됨
- 래지스터
    - 클록을 공유하는 D플립플록을 한 패키지에 넣은것
    - 가산기(덧셈논리회로)출력을 클록을 사용해 래지스터에 넣고나면, 가산기 입력을 바꿔도 결과가 바뀌지 않음
### 2. 메모리 조직과 주소 지정
```
1) 디코더(2진 입력에 대한 2진 출력을 매치해주는 회로)의 출력을 레지스터의 입력을 활성화하기 위해 사용
2) 레지스터에 번호를 붙여서 사용하는 데, 이 번호를 주소라고 한다.
3) 실렉터 방식으로 한곳에서 출력
```
- 버스 
    - 연결고리라는 뜻
    - 데이터 버스 
        : 시스템의 데이터 이동 경로를 제공
    - 주소 버스
        : 데이터의 근원지나 목적지의 일정한 메모리 주소를 전달하는 역할
    - p.149참조
- cpu의 확대 사진을 보면 주소를 행과 열의 정사각형 모양으로 담는다.

- 임의 접근 메모리
    - 우리가 지금까지 살펴본 메모리를 임의 접근 메모리 , RAM이라고 부른다.
    - SRAM
        - 각 비트에 트랜지스터가 6개 들어감
    - DRAM
        - 트랜지스터 1개 사용
        - 버킷에 전자를 채우는 시간과 버킷 정보를 쓰는 시간이 서로 겹치지 않게 해야함
    - 휘발성 메모리(전원이 꺼지면 데이터가 사라짐)
- 읽기 전용 메모리
    - ROM
    - 초기에는 천공카드를 사용함
    - MASK ROM -> PROM -> EPROM

### 3. 블록 장치    
- 대량 저장장치인 디스크 드라이브는 회전판에 비트를 저장한다.
- 최근 디스크는 1분에 7200번 회전함
- 디스크는 바이트 단위로 주소를 읽는게 아닌,블록(섹터) 단위로 주소를 읽음

### 4. 플래시 메모리와 SSD
- 플래시 메모리는 가장 최근에 나타난 EEPROM 
- 플래시 메모리는 읽을때는 임의 접근장치이고, 쓸때는 블록접근 장치다.
- 디스크 드라이브는 점차 SSD로 교체되고 있다.
### 5. 오류 감지와 정정
- 데이터의 복사본을 저장하지 않고도 데이터 오류가 발생했는지 알고 싶다. 
- [페리티]를 사용하면 1비트만 데이터가 잘못된 경우를 감지할수 있다.
- 1비트 오류가 발생하면 1의 개수가 홀수개로 바뀐다 => 패리티 검사로 홀수개일때 오류임을 발견하고 확인가능함
 
